<script lang="ts" setup>
const { data: kids, refresh: refreshKids } = await useFetch('/api/get-kids', {
  body: {
    includeAdjustments: true
  },
  method: 'post'
})

</script>

<template>
  <div v-if="kids">
    <div class="flex flex-wrap justify-center gap-8" :style="{ '--count': kids.length }">
      <KidSummary
        v-for="kid in kids"
        :key="kid.slug"
        class="basis-[200px] flex-grow max-w-[400px]"
        enable-link
        :kid="kid"
        @adjustment-added="refreshKids"
      />
    </div>
  </div>
</template>
